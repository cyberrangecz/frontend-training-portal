<ng-container *ngIf="(request$ | async) as request">
  <h1 *ngIf="isCleanup else creationRequest">Cleanup Request {{ request.id }} Detail</h1>
  <ng-template #creationRequest>
    <h1>Creation Request {{ request.id }} Detail</h1>
  </ng-template>
  <div *ngIf="request.stages.length > 0 else noStages">
    <kypo2-request-stage *ngFor="let stage of request.stages; trackBy: trackByFn; let i = index;"
                         [isCleanup]="isCleanup"
                         [stage]="stage"
                         (forceCleanup)="onForceCleanup($event, i)">
    </kypo2-request-stage>
  </div>
  <ng-template #noStages>
    <h2>Request has no stages</h2>
  </ng-template>
</ng-container>
